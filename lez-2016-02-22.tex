% autore: Costa

\begin{teo}
 L'immagine continua di connessi è connessa:
 \[\begin{rcases}
  \fundef[f]{X}{Y}\text{ continua} \\
  X\text{ connesso}
 \end{rcases}\implies
 f(X)\text{ connesso}\] 
\end{teo}

\begin{proof}
%  Non è restrittivo supporre $f(X)=Y$: infatti $\fundef[f]{X}{Y}$ continua $\Leftrightarrow \fundef[f]{X}{f(X)}$ continua.
 Per assurdo supponiamo $f(X) = B_1 \cup B_2, B_1,B_2$ aperti disgiunti non vuoti.
 $A_1\is f^{-1}(B_1)$ e $A_2\is f^{-1}(B_2)$ sono aperti per continuità di $f$.
 Inoltre sono non vuoti, disgiunti e $X=A_1\cup A_2$, assurdo.
\end{proof}

\begin{oss}
 La connessione è invariante per omeomorfismo, ma \emph{non} passa ai sottospazi. 
\end{oss}

\begin{defn}[Arco]
 Un arco in $X$ è un'applicazione $\fundef[\gamma]{[0,1]}{X}$ continua con topologia euclidea sul dominio.
\end{defn}

Diciamo che una arco $\gamma$ \emph{collega} due punti $x_0$, $x_1$ se $\gamma(0)=x_0$ e $\gamma(1)=x_1$.

\begin{defn}[Connessione per archi]
 Uno spazio topologico è \emph{connesso per archi} se ogni sua coppia di punti è collegata da un arco:
 \[\text{$X$ connesso per archi}\means
 \forall x_0, x_1 \in X \,\exists \fundef[\gamma]{[0,1]}{X}:\begin{cases}
  \text{$\gamma$ continua} \\
  \gamma(0)=x_0 \\
  \gamma(1)=x_1
 \end{cases}\]
\end{defn}

\begin{prop}
 $X$ connesso per archi $\implies X$ connesso
\end{prop}

\begin{proof}
 Supponiamo per assurdo $X=A_0\cup A_1$ aperti non vuoti disgiunti.
 Siano $x_0\in A_0$ e $x_1\in A_1$,
 e $\gamma$ un arco che li collega.
 L'intervallo $[0,1]$ è connesso quindi $\gamma([0,1])$ è connesso per continuità di $\gamma$.
 Ma posso anche scriverlo come
 $\gamma([0,1])=\big(A_0\cap \gamma([0,1])\big) \cup \big(A_1\cap(\gamma([0,1])\big)$
 che è sconnesso \absurd.
\end{proof}

\begin{es}
 Non è vero il viceversa! Si prendano gli insiemi in $\R^2$:
 \[Y_1\is\setdef[(0,y)]{-1\le y \le 1}\qquad
 Y_2\is\Setdef[\left(x,\sin\frac{1}{x}\right)]{x\in \mathbb R}\]
 $Y=Y_1\cup Y_2$ è connesso ma non per archi. 
 \marginpar{dimostrarlo}
\end{es}

Invece per gli aperti di $\R^n$ il viceversa vale:

\begin{prop}
 $A\subseteq (\mathbb R^n, \tau _E)$ aperto connesso $\implies A$ connesso per archi
\end{prop}

\begin{proof}
 Introduciamo la seguente relazione di equivalenza su $A$:
 \[x\sim y \means \text{$x$ e $y$ sono collegati da un arco}\]
 È una buona definizione perché,
 dati $x$, $y$ collegati da $\gamma$ e $y$, $z$ collegati da $\eta$,
 la \emph{concatenazione} $\zeta$ di $\gamma$ e $\eta$:
 \[\zeta(t)=\begin{cases}
  \gamma(2t) & t\in\left[0,\frac12\right] \\
  \eta(2t-1) & t\in\left(\frac12,1\right]
 \end{cases}\]
 è continua.
 Infatti $\zeta^{-1}(S\subseteq A)=\gamma^{-1}(S)\cup\eta^{-1}(S)$.
 
 Andiamo a mostrare che, fissato $x\in A$,
 la sua classe di equivalenza $[x]$ è un insieme sia aperto che chiuso.
 La \autoref{th:connapchius} conclude.
 
 Sia $y\in[x]$ cioè $y\in A$, $y\sim x$.
 Per ipotesi esiste una palla aperta $\ball[r]{y}\subseteq A$.
 Abbiamo che $\forall z\in \ball[r]{y}:z\sim x$
 perché $z$ è collegato a $y$ tramite l'arco radiale:
 \[\rho(t)=y+t(z-y),\qquad d_E(y,\rho)\le d_E(y,z)\]
 Dunque $\ball[r]{y}\subseteq [x]$.
 
 Per mostrare che l'insieme è chiuso basta vedere che il complementare è aperto.
 Ma se un punto $y$ non è collegato a $x$,
 allora i punti $z$ in una palletta intorno a lui non possono essere collegati a $x$:
 altrimenti potrei collegare $y$ a $x$ passando per~$z$ con un arco radiale tra $z$ e $y$.
\end{proof}

\begin{defn}[Componenti connesse per archi]
 Su uno spazio topologico $X$ arbitrario, le classi di equivalenza per la relazione sopra definita sono dette \emph{componenti connesse per archi} di $X$.
\end{defn}

\titlet{Compattezza}

Generalmente la proprietà di compattezza è utile in spazi~$T_2$,
tuttavia non esiste una convenzione globalmente accettata
riguardo al richiedere o meno che uno spazio compatto sia necessariamente $T_2$.
Noi intenderemo sempre implicitamente che sia~$T_2$.

Esistono due nozioni di compattezza, non sempre equivalenti:

\begin{defn}[Compattezza per ricoprimenti]
 Uno spazio topologico $X$ è \emph{compatto per ricoprimenti}
 se ogni ricoprimento aperto ammette un sottoricoprimento finito:
 \[\text{$X$ compatto}\means
 \forall\mathcal A\text{ ricoprimento aperto }
 \exists\mathcal F\subseteq\mathcal A:\begin{cases}
  \mathcal F\text{ finito} \\
  \mathcal F\text{ ricoprimento}
 \end{cases}\]
\end{defn}

\begin{defn}[Compattezza per successioni]
 $X$ è \emph{compatto per successioni}
 se ogni successione a valori in $X$ ammette una sottosuccessione convergente in $X$:
 \[\text{$X$ compatto per successioni}\means
 \forall(a_n)\subseteq X\,\exists (a_{n_j}),x\in X:a_{n_j}\convarrow x\]
\end{defn}

Generalmente quando diciamo solo ``compatto'' intendiamo ``compatto per ricoprimenti''.

\begin{prop}
 I sottospazi compatti di un compatto sono i chiusi:
 \[\begin{rcases}
  \text{$X$ compatto} \\
  Y\subseteq X
 \end{rcases}\implies
 \big(\text{$Y$ compatto $\iff Y$ chiuso}\big)\]
\end{prop}

\begin{proof}
Mostriamo le due implicazioni:
\begin{description}
	\item[\proofleftarrow]
		Un ricoprimento aperto di $Y$ corrisponde a una famiglia  $\mathcal A$ di aperti di $X$ tale che $Y\subseteq \union\mathcal A$.
  La famiglia $\mathcal A \cup \set{X\setminus Y}$ è un ricoprimento aperto di tutto $X$,
		da cui per compattezza posso estrarre un sottoricoprimento finito $\mathcal F$ di $X$.
  
  Se $Y=\nullset$ la tesi è banale; consideriamo $Y$ non vuoto:
  $\mathcal F$ dovrà necessariamente contenere elementi di $\mathcal A$.
  Allora $\setdef[F\cap Y]{F\in\mathcal F}$ è il sottoricoprimento di $Y$ cercato.\footnotemark
  \footnotetext{Si osservi che non abbiamo usato la proprietà $T_2$ di $X$.}
 \item[\proofrightarrow]
		Voglio mostrare che $X\setminus Y$ è aperto.
		Fisso $y\in X\setminus Y$.
  Per $T_2$, $\forall x\in Y\, \exists U_x, W_x$ aperti disgiunti, $x\in U_x$, $y\in W_x$.
		
		Si osservi che $\union_{x\in Y}U_x$ è ricoprimento di $Y$. Per compattezza, posso estrarre un sottoricoprimento finito $U_1,\dots, U_n$.
		Considero i rispettivi insiemi aperti $W_1,\dots, W_n$ che assieme agli $U_i$ separavano i punti.
  
		Allora $W\is \inters_{i=1}^nW_i$ è un intorno di $y$,
  che contiene solo punti di $X\setminus Y$ perché gli $U_i$ ricoprono $Y$.
  \qedhere
	\end{description}
\end{proof}

% questa proposizione l'ha enunciata in questa lezione ma l'ha ripetuta e dimostrata nella lezione successiva
% \begin{prop}
%  $X$ $T_2$, 2-numerabile, $ X$ compatto $\iff X$ compatto per successioni
% \end{prop}

\begin{lemma}
 \label{th:infcompacc}
 I sottoinsiemi infiniti di uno spazio compatto hanno punti di accumulazione:
 \[\begin{rcases}
  \text{$X$ compatto} \\
  Y\subseteq X \\
  \text{$Y$ infinito}
 \end{rcases}\implies
 \exists y\in X\text{ punto di accumulazione per }Y\]
\end{lemma}

\begin{proof}
 Supponiamo per assurdo che tutti gli $x\in X$ non siano di accumulazione per $Y$.
 Abbiamo due casi:
 \begin{itemize}
  \item $x\in X\setminus Y\implies \exists U_x:U_x\cap Y = \nullset$
  \item $x\in Y\implies \exists U_x:U_x\cap Y = \{ x \}$
 \end{itemize}
 La famiglia di intorni $\set{U_x}_{x\in X}$ ricopre $X$ (posso scegliere gli intorni aperti).
 Per compattezza estraggo $U_1,\dots, U_n$ sottoricoprimento finito.
 
 Allora $Y\subseteq \union_{i=1}^nU_i\implies Y\subseteq \left \{ x_1,\dots,x_n\right \}$ che è finito, assurdo.
\end{proof}
