%!TEX encoding = UTF-8 Unicode
%!TEX TS-program = pdflatex

%%% --- PREAMBLE --- %%%

% versione di lavoro
\documentclass[a4paper]{report}
\usepackage{layout}
\setlength{\marginparwidth}{95pt}
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\renewcommand*\familydefault{\sfdefault}

% versione stampa A4 verticale
% \documentclass[a4paper]{book}

% versione stampa A4 orizzontale
% \documentclass[a4paper,twocolumn,landscape,openany]{book}
% \usepackage[inner=1in,outer=1in,top=.7in,bottom=.6in]{geometry}

% versione stampa A5
% \documentclass[a5paper,openany]{book}
% \usepackage[margin=1cm,top=1.5cm,bottom=1.5cm]{geometry}

\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc} % si possono usare caratteri accentati direttamente
\usepackage{macros}

% --- FONT ---
\usepackage{lmodern}
% font 1 (sans serif più leggero)
% \usepackage{cmbright}
% font 2 (già in uso)
% \usepackage{newpxtext, newpxmath} % (!) tenere dopo {macros}
% ------------

\usepackage[colorlinks=true, linkcolor=black, urlcolor=darkgray, citecolor=darkgray, filecolor=darkgray]{hyperref}
\usepackage[all]{hypcap} % (!) tenere dopo {hyperref}
\usepackage[useregional]{datetime2} % (!) tenere dopo {babel}
\usepackage{fancyhdr}
\usepackage[section]{placeins} % tiene le figure nella sezione

% --- THEOREMS ---
\declaretheorem[style=definition,name=Definizione]{defn}
\declaretheorem[style=plain,name=Teorema]{teo}
\declaretheorem[style=plain,name=Lemma,sibling=teo]{lemma}
\declaretheorem[style=plain,name=Proposizione,sibling=teo]{prop}
\declaretheorem[style=plain,name=Corollario,sibling=teo]{cor}
\declaretheorem[style=remark,name=Esempio]{es}
\declaretheorem[style=remark,name=Osservazione]{oss}
\declaretheorem[style=remark,name=Esercizio]{ex}
% ----------------

\DTMlangsetup{showyear=false}
\newenvironment{lesson}[3]{%
\section{Lezione \DTMdisplaydate{#1}{#2}{#3}{-1}}}{%
}
\newcommand*\titlet[1]{\subsection{#1}}
\newcommand*\subtitlet[1]{\subsubsection{#1}}

\newcommand\includelesson[4]{%
\begin{lesson}{#1}{#2}{#3}
\input{lez-#1-#2-#3}
\end{lesson}}

% --- SEARCH PATHS ---
\makeatletter
\providecommand*{\input@path}{}
\g@addto@macro\input@path{{figure/}}
\makeatother
\graphicspath{{figure/}}
% --------------------

\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\oldmarginpar{\scriptsize #1}}

%%% --- DOCUMENT --- %%%

\title{Appunti di Geometria 2, corso di fisica}
\author{%
Federico Belliardo\\
Alberto Bordin\\
Alessandro Candido\\
Marco Costa\\
Valerio Lomanto\\
Andrea Luzio\\
Giacomo Petrillo\\
Roberto Ribatti}
\date{Anno accademico 2015-2016}

\begin{document}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\rightmark}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0pt}

% \frontmatter

\maketitle

\tableofcontents
\clearpage

% \mainmatter

\chapter{Spazi topologici}
\includelesson{2016}{02}{15}{Ribatti}
\includelesson{2016}{02}{17}{Petrillo}
\includelesson{2016}{02}{18}{Petrillo}
\includelesson{2016}{02}{22}{Costa}
\includelesson{2016}{02}{24}{Candido}
\includelesson{2016}{02}{25}{Luzio}
\chapter{Varietà}
\includelesson{2016}{02}{29}{Bordin}
\includelesson{2016}{03}{02}{Lomanto}
\includelesson{2016}{03}{03}{Belliardo}
\includelesson{2016}{03}{07}{Ribatti}
\includelesson{2016}{03}{09}{Petrillo}
\includelesson{2016}{03}{10}{Costa}
\includelesson{2016}{03}{14}{Candido}
\includelesson{2016}{03}{16}{Luzio}
\includelesson{2016}{03}{17}{Bordin}
\includelesson{2016}{04}{04}{Lomanto}
\includelesson{2016}{04}{06}{Belliardo}
\includelesson{2016}{04}{07}{Ribatti}
\includelesson{2016}{04}{11}{Petrillo}
\includelesson{2016}{04}{13}{Costa}
\includelesson{2016}{04}{14}{Candido}
\includelesson{2016}{04}{18}{Luzio}
\includelesson{2016}{04}{20}{Bordin}
\includelesson{2016}{04}{21}{Lomanto}
\includelesson{2016}{04}{27}{Belliardo}
% \includelesson{2016}{04}{28}{Ribatti}
\includelesson{2016}{05}{02}{Petrillo}
\includelesson{2016}{05}{04}{Costa}
\includelesson{2016}{05}{05}{Candido}
\includelesson{2016}{05}{11}{Bordin}
\end{document}
